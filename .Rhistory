# Merge with rent data
starting_salary_zillow <- rent_data %>%
left_join(zillow_rents, by = "year") %>%
mutate(ratio = grossrent_e * 12 * 100 / starting_salary)
# Merge with rent data
starting_salary_zillow <- rent_data %>%
left_join(zillow_rents, by = "year") %>%
mutate(ratio = rent * 12 * 100 / starting_salary)
# Merge with rent data
starting_salary_zillow <- zillow_rents %>%
left_join(zillow_rents, by = "year") %>%
mutate(ratio = rent * 12 * 100 / starting_salary)
# Merge with rent data
starting_salary_zillow <- starting_salary %>%
left_join(zillow_rents, by = "year") %>%
mutate(ratio = rent * 12 * 100 / starting_salary)
View(starting_salary_zillow)
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_rent_data$year) +
scale_y_continuous(limits = c(32, 40))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(32, 40))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(40, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(51, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(52, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(48, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = 1)  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = 10)  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), by = 1)  # Adjusted Y-axis
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(breaks = seq(0, 100, by = 20)) # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100), by = 1)  # Adjusted Y-axis
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100), by = 10)  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100, by = 1))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100, by = 2))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100, by = 1))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 60), breaks = seq(0,100, by = 1))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(52, 60), breaks = seq(0,100, by = 1))  # Adjusted Y-axis
starting_salary_zillow_plot
# Save the plot as an SVG file
ggsave("starting-salary-zillow.svg", starting_salary_zillow_plot, device = "svg")
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
starting_salary_zillow_plot
View(zillow_rents)
View(starting_salary_zillow)
starting_salary <- read_csv('salary data - l-tables.csv') %>%
pivot_longer(cols = -classification, names_to = "year", values_to = "starting_salary") %>%
mutate(year = as.numeric(year))
zillow_rents <- read_csv('zillow-rents.csv')
starting_salary <- read_csv('salary data - l-tables.csv') %>%
pivot_longer(cols = -classification, names_to = "year", values_to = "starting_salary") %>%
mutate(year = as.numeric(year))
# Merge with rent data
starting_salary_zillow <- starting_salary %>%
left_join(zillow_rents, by = "year") %>%
mutate(ratio = rent * 12 * 100 / starting_salary)
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(0, 70), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(50, 70), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
starting_salary_zillow_plot
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(60, 70), breaks = seq(0,100, by = 10))  # Adjusted Y-axis
# plot
starting_salary_zillow_plot <- ggplot(starting_salary_zillow, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(60, 70), breaks = seq(0,100, by = 1))  # Adjusted Y-axis
starting_salary_zillow_plot
# Load ACS data
get_rent_data_1 <- function() {
purrr::map_dfr(c(2019,2021,2022, 2023), ~ {
get_acs(
geography = "place",
variables = c(grossrent = "B25064_001"),
state = "California",
year = .x,
survey = "acs1",
output = "wide"
) %>%
clean_names() %>%
filter(name == 'Los Angeles city, California') %>%
mutate(year = .x)
})
}
rent_data_1 <- get_rent_data_1()
get_rent_data_5 <- function(start_year = 2019, end_year = 2023) {
purrr::map_dfr(start_year:end_year, ~ {
get_acs(
geography = "place",
variables = c(grossrent = "B25064_001"),
state = "California",
year = .x,
survey = "acs5",
output = "wide"
) %>%
clean_names() %>%
filter(name == 'Los Angeles city, California') %>%
mutate(year = .x)
})
}
rent_data_5 <- get_rent_data_5()
starting_salary <- read_csv('salary data - l-tables.csv') %>%
pivot_longer(cols = -classification, names_to = "year", values_to = "starting_salary") %>%
mutate(year = as.numeric(year))
# Merge with rent data
starting_salary_rent_data <- rent_data_5 %>%
left_join(starting_salary, by = "year") %>%
mutate(ratio = grossrent_e * 12 * 100 / starting_salary)
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_rent_data$year) +
scale_y_continuous(limits = c(32, 40))  # Adjusted Y-axis
starting_salary_rent_plot
View(starting_salary_rent_data)
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_rent_data$year) +
scale_y_continuous(limits = c(32, 40))  # Adjusted Y-axis
starting_salary_rent_plot
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_rent_data$year) +
scale_y_continuous(limits = c(32, 50))  # Adjusted Y-axis
starting_salary_rent_plot
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank()
) +
scale_x_continuous(breaks = starting_salary_rent_data$year) +
scale_y_continuous(limits = c(35, 45))  # Adjusted Y-axis
starting_salary_rent_plot
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(30, 50), breaks = seq(0,100, by = 1))
starting_salary_rent_plot
# plot
starting_salary_rent_plot <- ggplot(starting_salary_rent_data, aes(year, ratio)) +
geom_line(size = 1, color = "#D55E00") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank()
) +
scale_x_continuous(breaks = starting_salary_zillow$year) +
scale_y_continuous(limits = c(35, 45), breaks = seq(0,100, by = 1))
starting_salary_rent_plot
View(starting_salary_rent_data)
# Save the plot as an SVG file
ggsave("startingsalaryrentburden.svg", starting_salary_rent_plot, device = "svg")
